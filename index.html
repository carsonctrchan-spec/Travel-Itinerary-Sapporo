<!DOCTYPE html>
<html lang="zh-HK">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>2026 札幌雪祭｜最終版（盤溪滑雪＋狸小路夜景＋藻岩山夜景）</title>
<style>
    body{margin:0;font-family:"Playfair Display",serif;background:#FFFFF0;color:#333;line-height:1.6;}
    .header{background:root{--gold:#FFD700;--blue:#4682B4;}
    .header{background:linear-gradient(135deg,var(--blue),var(--gold));color:white;padding:3rem 1rem;text-align:center;box-shadow:0 4px 20px rgba(0,0,0,0.1);}
    .tabs{max-width:1200px;margin:2rem auto;display:flex;justify-content:center;flex-wrap:wrap;border-bottom:4px solid var(--gold);}
    .tab-btn{background:#fff;padding:1.2rem 2rem;font-size:1.5rem;cursor:pointer;border-radius:15px 15px 0 0;margin:0.5rem;box-shadow:0 4px 12px rgba(0,0,0,0.1);}
    .tab-btn.active{background:var(--gold);color:#333;font-weight:bold;}
    .content{max-width:1100px;margin:2rem auto;padding:0 2rem;display:none;}
    .content.active{display:block;}
    .day{background:white;padding:2.5rem;border-radius:20px;box-shadow:0 12px 35px rgba(0,0,0,0.12);
         margin-bottom:2rem;border-left:10px solid var(--gold);border:1px solid var(--gold);}
    .day h2{font-size:1.9rem;margin:0 0 1rem 0;color:#2c3e50;}
    .big-btn{background:var(--gold);color:#333;padding:1.5rem;font-size:1.6rem;width:100%;border:none;
             border-radius:15px;margin-top:1.5rem;cursor:pointer;font-weight:bold;}
    .big-btn:hover{background:#FF8C00;color:white;}
    .detail-day{background:white;padding:3rem;border-radius:25px;box-shadow:0 15px 50px rgba(0,0,0,0.15);margin:2rem auto;border:1px solid var(--blue);}
    .hero-img{width:100%;max-height:450px;object-fit:cover;border-radius:20px;margin:1.5rem 0;box-shadow:0 10px 30px rgba(0,0,0,0.2);}
    .weather-box{background:#e3f2fd;padding:1.2rem;border-radius:10px;margin:1rem 0;border-left:5px solid var(--blue);}
    .step{margin:1.8rem 0;padding:1.6rem;background:#f0f8ff;border-left:8px solid var(--blue);border-radius:12px;line-height:1.8;}
    .time{color:#c0392b;font-weight:bold;font-size:1.2rem;}
    .meal{font-weight:bold;color:#B8860B;}
    .links a{margin:0.5rem;display:inline-block;background:#e3f2fd;padding:0.9rem 1.5rem;border-radius:12px;font-weight:600;}
    .location-link{color:#0066cc;text-decoration:underline;font-weight:bold;}
    .packing-list{max-width:800px;margin:0 auto;}
    .packing-list ul{list-style:none;padding:0;}
    .packing-list li{margin:1rem 0;font-size:1.3rem;}
    .packing-list input[type="checkbox"]{transform:scale(1.8);margin-right:15px;vertical-align:middle;}
    .btn-group{text-align:center;margin:1.5rem 0;}
    .save-btn{background:var(--blue);color:white;}
    .load-btn{background:var(--gold);color:#333;}
    .clear-btn{background:#e74c3c;color:white;}
    .save-btn,.load-btn,.clear-btn{padding:0.9rem 1.8rem;border:none;border-radius:12px;font-size:1.1rem;cursor:pointer;margin:0.4rem;font-weight:bold;}
    .save-btn:hover{background:#336699;}
    .load-btn:hover{background:#FF8C00;color:white;}
    .clear-btn:hover{background:#c0392b;}

    @media (max-width:768px){
        .header{padding:1.5rem 0.5rem;}
        .header h1{font-size:1.8rem;}
        .header p{font-size:1.2rem;}
        .tabs{flex-direction:column;align-items:center;border:none;}
        .tab-btn{width:90%;margin:0.3rem 0;border-radius:15px;}
        .content{padding:0 1rem;}
        .day{padding:1.5rem;border-left:5px solid var(--gold);}
        .day h2{font-size:1.5rem;}
        .big-btn{padding:1rem;font-size:1.3rem;}
        .detail-day{padding:1.5rem;}
        .hero-img{max-height:250px;}
        .step{padding:1rem;font-size:0.95rem;}
        .packing-list input[type="checkbox"]{transform:scale(1.5);}
        .save-btn,.load-btn,.clear-btn{width:90%;margin:0.6rem auto;display:block;}
        #out{font-size:2rem;}
    }
</style>
</head>
<body>
<div class="header">
    <h1>2026 札幌雪祭 7 天完美行程（最終版）</h1>
    <p style="font-size:1.5rem;">1月30日 – 2月5日　｜　盤溪滑雪場 + 狸小路夜景 + 藻岩山夜景</p>
</div>

<div class="tabs">
    <div class="tab-btn active" onclick="openTab('overview')">總覽</div>
    <div class="tab-btn" onclick="openTab('details')">詳細日程表</div>
    <div class="tab-btn" onclick="openTab('packing')">裝備清單</div>
</div>

<!-- 總覽 -->
<div id="overview" class="content active">
    <div style="max-width:900px;margin:0 auto;">
        <div class="day"><h2>1月30日 (五) Day 1　抵達＋電視塔夜景</h2><button class="big-btn" onclick="showDetail(1)">查看詳細時間軸</button></div>
        <div class="day"><h2>1月31日 (六) Day 2　盤溪滑雪場＋狸小路夜景</h2><button class="big-btn" onclick="showDetail(2)">查看詳細時間軸</button></div>
        <div class="day"><h2>2月1日 (日) Day 3　盤溪滑雪場＋藻岩山夜景</h2><button class="big-btn" onclick="showDetail(3)">查看詳細時間軸</button></div>
        <div class="day"><h2>2月2日 (一) Day 4　定山溪溫泉放空</h2><button class="big-btn" onclick="showDetail(4)">查看詳細時間軸</button></div>
        <div class="day"><h2>2月3日 (二) Day 5　小樽運河浪漫一日</h2>
            <p style="color:#8B4513;margin:1rem 0;">下午茶：LeTAO 本店雙層起司蛋糕　｜　晚餐：小樽世壺屋</p>
            <button class="big-btn" onclick="showDetail(5)">查看詳細時間軸</button>
        </div>
        <div class="day" style="border-left:16px solid #e74c3c;"><h2>2月4日 (三) Day 6　2026雪祭開幕日全天狂歡！</h2><button class="big-btn" style="background:#e74c3c;color:white;" onclick="showDetail(6)">立即查看雪祭時間軸</button></div>
        <div class="day"><h2>2月5日 (四) Day 7　掃貨＋返程</h2><button class="big-btn" onclick="showDetail(7)">查看詳細時間軸</button></div>
    </div>
    <div style="text-align:center;margin:4rem;">
        <h2>2026 雪祭7天總預算（HK$）</h2>
        人數 <input type="number" id="p" value="2" min="1" style="padding:0.8rem;width:100px;">
        <button onclick="calc()" style="background:var(--gold);padding:1rem 2.5rem;border:none;border-radius:12px;margin-left:1rem;font-size:1.3rem;cursor:pointer;">計算</button>
        <p id="out" style="font-size:3.5rem;margin:2rem;font-weight:bold;color:#c0392b;">HK$14,200（2人）</p>
    </div>
</div>

<!-- 詳細日程表 -->
<div id="details" class="content">
    <div id="detail-content" style="max-width:1000px;margin:0 auto;"></div>
</div>

<!-- 裝備清單 -->
<div id="packing" class="content packing-list">
    <h2 style="text-align:center;color:#2c3e50;">北海道1月底-2月初 裝備清單（極寒+滑雪）</h2>
    <div class="btn-group">
        <button id="savePacking" class="save-btn">儲存目前勾選狀態</button>
        <button id="loadPackingBtn" class="load-btn">載入上次儲存的狀態</button>
        <button id="clearPacking" class="clear-btn">取消全部勾選（保留備份）</button>
        <p style="font-size:0.9rem;color:#666;margin:1rem 0;">
            儲存後即使關閉瀏覽器，下次打開仍會自動恢復
        </p>
    </div>
    <ul>
        <li><input type="checkbox" class="pack-item"> 極厚羽絨服（-20°C等級）</li>
        <li><input type="checkbox" class="pack-item"> 保暖內層（HeatTech極暖）</li>
        <li><input type="checkbox" class="pack-item"> 抓絨中層</li>
        <li><input type="checkbox" class="pack-item"> 防水滑雪褲／雪褲</li>
        <li><input type="checkbox" class="pack-item"> 防水雪靴（Sorel / The North Face）</li>
        <li><input type="checkbox" class="pack-item"> 滑雪手套（防水＋內刷毛）</li>
        <li><input type="checkbox" class="pack-item"> 毛帽／護耳帽</li>
        <li><input type="checkbox" class="pack-item"> 圍巾或脖圍（Buff）</li>
        <li><input type="checkbox" class="pack-item"> 雪鏡／護目鏡（滑雪用）</li>
        <li><input type="checkbox" class="pack-item"> 暖暖包（大量！）</li>
        <li><input type="checkbox" class="pack-item"> 保濕面霜／護手霜（防凍傷）</li>
        <li><input type="checkbox" class="pack-item"> 行動電源（低溫易掉電）</li>
        <li><input type="checkbox" class="pack-item"> 泳裝（溫泉用）</li>
        <li><input type="checkbox" class="pack-item"> 替換厚襪（美利奴羊毛最佳）</li>
        <li><input type="checkbox" class="pack-item"> 護唇膏 + 鼻噴劑</li>
    </ul>
</div>

<script>
function openTab(tab){
    document.querySelectorAll('.content').forEach(c=>c.classList.remove('active'));
    document.getElementById(tab).classList.add('active');
    document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
    document.querySelector(`.tab-btn[onclick="openTab('${tab}')"]`).classList.add('active');
}

function showDetail(day){
    const details = { /* ...（保持不變，省略以節省篇幅） */ };
    // 這裡放你原本的 1~7 的 details 內容，為了節省篇幅我先省略，你直接複製原本的就好
    // （實際使用時把原本的 details 物件貼回來即可）
    document.getElementById('detail-content').innerHTML = details[day] || '施工中';
    openTab('details');
}

function calc(){
    const p = parseInt(document.getElementById('p').value) || 1;
    const total = 7100 * p;
    document.getElementById('out').innerHTML = `HK$${total.toLocaleString()}（${p}人）`;
}
calc();

// ==================== 裝備清單儲存功能（已修正版） ====================
const checkboxes = document.querySelectorAll('.pack-item');
const saveBtn    = document.getElementById('savePacking');
const loadBtn    = document.getElementById('loadPackingBtn');
const clearBtn   = document.getElementById('clearPacking');

function savePacking() {
    const states = {};
    checkboxes.forEach((cb, i) => states[i] = cb.checked);
    localStorage.setItem('sapporo2026_packing', JSON.stringify(states));
    alert('已成功儲存目前的勾選狀態！');
}

function loadPacking() {
    const saved = localStorage.getItem('sapporo2026_packing');
    if (!saved) {
        alert('沒有找到儲存的資料');
        return;
    }
    const states = JSON.parse(saved);
    checkboxes.forEach((cb, i) => {
        cb.checked = states[i] ?? false;
    });
    alert('已載入上次儲存的狀態！');
}

function clearScreenOnly() {
    checkboxes.forEach(cb => cb.checked = false);
    alert('已取消全部勾選（你的備份仍然保留，可隨時載入）');
}

saveBtn.addEventListener('click', savePacking);
loadBtn.addEventListener('click', loadPacking);
clearBtn.addEventListener('click', clearScreenOnly);

// 頁面載入時自動載入上次儲存的狀態
loadPacking();
</script>
</body>
</html>
